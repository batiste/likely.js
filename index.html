<html>
<body>
<h1>Likely.js is a Python like HTML templating language</h1>

<p><a href="https://github.com/batiste/likely.js">On github</a></p>

<h2>Template</h2>
<textarea id="input" style="width:500px;height:250px;" spellcheck="false">ul
 for number in list
  li id="id-{{ number }}"
   if number < limit
    span style="color:red"
     "Number {{ number }} is smaller than {{ limit }}."
   elseif number==limit
     "Number is {{ limit }}."
   else
    span style="color:green"
     "Number {{ number }} is bigger than {{ limit }}."

</textarea>

<h2>Data</h2>

<textarea id="data" style="width:500px;height:100px;" spellcheck="false">
{"list":[0,1,2,3,4,5,6,7,8,9], "limit":5}
</textarea>

<h2>Html</h2>
<div id="result">
</div>

<h2>Rendered result</h2>
<div id="resulth">
</div>


<script src="likely.js"></script>

<script>

var r = document.getElementById("result");
var rh = document.getElementById("resulth");
var i = document.getElementById("input");
var d = document.getElementById("data");
var t, render;
function show() {
  try {
    var data = JSON.parse(d.value);
    t = likely.Template(i.value);
    var context = likely.Context(data);
    render = t.render(context);
  } catch(err) {
    render = String(err);
  }
  r.innerHTML = render.replace(/</g, "&lt;").replace(/>/g, "&gt;");
  rh.innerHTML = render;
}
i.onkeyup = show;
show();
d.onkeyup = show;
</script>
