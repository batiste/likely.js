!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.likely=t()}}(function(){return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return r(i?i:t)},l,l.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e){"use strict";function i(t){for(var e,i,n=[];;){var r=/{{(.+?)}}/.exec(t);if(!r){t&&n.push(t);break}e=s(r[1]),i=t.split(r[0],2),i[0].length&&n.push(i[0]),n.push(e),t=i[1]}return n}function n(t,e){var i,n="";for(i=0;i<t.length;i++){var r=t[i];n+="function"==typeof r?r(e):r}return n}function r(t){for(var e,i=0,n=t.length,r="",s=null,a=0;n>i;)e=t.charAt(i),"\\"!==e?(('"'===e||"'"===e)&&(s===e?(s=null,r+=t.slice(a,i),a=i):(r+=o(t.slice(a,i)),a=i,s=e)),i+=1):i+=2;return r+=o(t.slice(a,i))}function o(t){return t.replace(l,function(t){return c.indexOf(t)>-1?t:t.match(/^context/)||"true"==t||"false"==t?t:'context.get("'+t+'")'})}function s(t){var e=t.match(l),i=r(t),n=new Function("context","return "+i);return e&&1==e.length&&a.trim(t)==e[0]&&(n.binding=e[0]),n}var a=t("./util"),h=/^{{(.+?)}}/,l=/[a-zA-Z_$][0-9a-zA-Z_$\.]*/gm,c=["true","false","undefined","null"];e.exports={nameReg:l,compileTextAndExpressions:i,evaluateExpressionList:n,jsExpression:s,replaceNames:o,replaceOutOfStrings:r,EXPRESSION_REG:h}},{"./util":5}],2:[function(t,e){"use strict";function i(t,e){var i,n=e.getAttribute("lk-bind");if(!n)throw"No lk-bind attribute on the element";i="checkbox"!=e.type||e.checked?e.value:"",t.modify(n,i)}function n(t,e,i){return this.constructor!==n?new n(t,e,i):(this.dom=t,void 0!==i||e instanceof a.Node||(i=e,e=a.buildTemplate(t.textContent)),this.data=i,this.template=e,this.context=new a.Context(this.data),this.scheduled=!1,void(this.callbacks=[]))}var r=t("./util"),o=t("./render"),s=t("./expression"),a=t("./template");n.prototype.tree=function(){return this.template.tree(new a.Context(this.data))},n.prototype.init=function(){this.dom.innerHTML="",this.currentTree=this.tree(),this.currentTree.domTree(this.dom),this.bindEvents()},n.prototype.domInit=function(){this.currentTree=o.initialRenderFromDom(this.dom),this.currentTree.nodeName=void 0,this.bindEvents()},n.prototype.diff=function(){var t=this.tree(),e=this.currentTree.diff(t);o.applyDiff(e,this.dom),this.currentTree=t,this.lock=!1},n.prototype.dataEvent=function(t){var e=t.target,n=e.getAttribute("lk-bind");if(n){var r=this.getRenderNodeFromPath(e);this.lock||(i(r.context,e),this.lock=!0,this.diff()),this.trigger("dataViewChanged",{name:n})}},n.prototype.getRenderNodeFromPath=function(t){var e,i=t.getAttribute("lk-path"),n=this.currentTree,r=i.split(".");for(e=1;e<r.length;e++)n=n.children[r[e]];return n},n.prototype.trigger=function(t,e){this.dom.dispatchEvent(r.event(t,e))},n.prototype.anyEvent=function(t){var e=t.target,i=e.getAttribute("lk-"+t.type);if(i){var n=this.getRenderNodeFromPath(e),r=a.Context({event:t},n.context);n.node.attrs["lk-"+t.type](r)}},n.prototype.bindEvents=function(){var t;this.dom.addEventListener("keyup",function(t){this.dataEvent(t)}.bind(this),!1),this.dom.addEventListener("change",function(t){this.dataEvent(t)}.bind(this),!1);var e="click,change,mouseover,focusout,focusin,keydown,keyup,keypress,submit".split(",");for(t=0;t<e.length;t++)this.dom.addEventListener(e[t],function(t){this.anyEvent(t)}.bind(this),!1)},n.prototype.update=function(t){if(t&&this.callbacks.push(t),!this.scheduled){var e=(new Date).getTime();if(this.lastUpdate&&e-this.lastUpdate<25||this.lock)return void(this.scheduled=window.requestAnimationFrame(function(){this.scheduled=!1,this.update()}.bind(this)));for(this.lock=!0,this.lastUpdate=e,this.diff(),this.trigger("update");this.callbacks.length;)this.callbacks.pop()()}},e.exports={Template:a.buildTemplate,ContextName:a.ContextName,updateData:i,Binding:n,Component:a.Component,getDom:o.getDom,applyDiff:o.applyDiff,attributesDiff:o.attributesDiff,Context:a.Context,CompileError:r.CompileError,RuntimeError:r.RuntimeError,escape:r.escape,initialRenderFromDom:o.initialRenderFromDom,expression:s,render:o,template:a,util:r,setHandicap:function(t){o.handicap=t}}},{"./expression":1,"./render":3,"./template":4,"./util":5}],3:[function(t,e){"use strict";function i(t,e,i,n){this.children=[],this.node=t,this.context=e,this.renderer=i,this.path=n||"",this.nodeName=t.nodeName}function n(t){var e,i=t.children.length;for(e=0;e<t.children.length;e++)i+=n(t.children[e]);return i}function r(t){var e,i=0;for(e=0;e<t.length;e++)"remove"==t[e].action&&(i+=2,i+=2*n(t[e].node)),"add"==t[e].action&&(i+=2,i+=2*n(t[e].node)),"mutate"==t[e].action&&(i+=1),"stringmutate"==t[e].action&&(i+=1);return i}function o(t,e){var i,n,r,o=[];for(n=Object.keys(t),r=0;r<n.length;r++)i=n[r],e[i]===!1?o.push({action:"remove",key:i}):void 0!==e[i]?e[i]!=t[i]&&o.push({action:"mutate",key:i,value:e[i]}):o.push({action:"remove",key:i});for(n=Object.keys(e),r=0;r<n.length;r++)i=n[r],void 0===t[i]&&o.push({action:"add",key:i,value:e[i]});return o}function s(t,e,i){var n,r=e.split("."),o=t;void 0===i&&(i=0);var s=r.length-i;for(n=1;s>n;n++)o=o.childNodes[0|r[n]];return o}function a(t,e){var i,n,r,o,a;for(i=0;i<t.length;i++){if(r=t[i],o=s(e,r.path),"remove"==r.action&&o.parentNode.removeChild(o),"add"==r.action){var h=r.node.domTree();o?o.parentNode.insertBefore(h,o):(a=s(e,r.path,1),a.appendChild(h))}if("mutate"==r.action)for(n=0;n<r.attributesDiff.length;n++){var l=r.attributesDiff[n];"mutate"==l.action&&(-1!="value,selected,checked".indexOf(l.key)&&o[l.key]!=l.value&&(o[l.key]=l.value),o.setAttribute(l.key,l.value)),"remove"==l.action&&(-1!="checked,selected".indexOf(l.key)&&(o[l.key]=!1),o.removeAttribute(l.key)),"add"==l.action&&(-1!="checked,selected".indexOf(l.key)&&(o[l.key]=l.value),o.setAttribute(l.key,l.value))}"stringmutate"==r.action&&(o.nodeValue=r.value)}}function h(t,e){e=e||"";var n,r,o=[],s={},a="";if(t.attributes)for(n=0;n<t.attributes.length;n++){var l=t.attributes[n];s[l.name]=l.value}if(t.childNodes)for(n=0;n<t.childNodes.length;n++)r=t.childNodes[n],o.push(h(r,e+"."+n));t.textContent&&(a=t.textContent);var c=new i({nodeName:t.nodeName.toLowerCase(),node:t},void 0,a,e);return c.attrs=s,c.children=o,c}i.prototype.repr=function(t){var e,i="";for(void 0===t&&(t=0),e=0;t>e;e++)i+="  ";for(i+=String(this.node)+" path "+this.path+"\r\n",e=0;e<this.children.length;e++)i+=this.children[e].repr(t+1);return i},i.prototype.domTree=function(t){var e,i,n=t||this.node.domNode(this.context,this.path);for(e=0;e<this.children.length;e++)i=this.children[e].domTree(),n.push?n.push(i):n.appendChild(i);return n},i.prototype.domHtml=function(){var t,e=document.createElement("div");for(t=0;t<this.children.length;t++){var i=this.children[t].domTree();e.appendChild(i)}return e.innerHTML},i.prototype._diff=function(t,e,i){var n,s,a=0;if(void 0===i&&(i=""),!t)return e.push({action:"remove",node:this,path:i}),e;if(t.nodeName!=this.nodeName)return e.push({type:"different_nodeName",action:"remove",node:this,path:i}),e.push({type:"different_nodeName",action:"add",node:t,path:i}),e;if("#text"==this.nodeName&&this.renderer!=t.renderer)return e.push({action:"stringmutate",node:this,value:t.renderer,path:i}),e;var h=o(this.attrs||{},t.attrs||{});h.length&&e.push({action:"mutate",node:this,attributesDiff:h,path:i});var l=this.children.length,c=t.children.length;for(s=0,n=0,a=0;l>n;n++){var d=0,u=0,p=0,f=null,m=null,v=t.children[s+1],g=this.children[n+1];if(t.children[s]){d=this.children[n]._diff(t.children[s],[],i+"."+a);var y=r(d);if(g&&(u=g._diff(t.children[s],[],i+"."+a),f=r(u)+r([{action:"remove",node:this.children[n]}])),v&&(p=this.children[n]._diff(v,[],i+"."+a),m=r(p)+r([{action:"add",node:t.children[s]}])),(!v||m>=y)&&(!g||f>=y))e=e.concat(d),a+=1;else if(g&&(!v||m>=f))e.push({type:"after_source",cost:f,action:"remove",node:this.children[n],path:i+"."+a}),e=e.concat(u),a+=1,n++;else{if(!v)throw"Should never happen";e=e.concat(p),e.push({type:"after_target",cost:m,action:"add",node:t.children[s],path:i+"."+a}),a+=2,s++}s++}else e.push({action:"remove",node:this.children[n],path:i+"."+a})}for(n=0;c-s>n;n++)e.push({type:"new_node",action:"add",node:t.children[s+n],path:i+"."+(a+1)}),a+=1;return e},i.prototype.diff=function(t){var e=[];return this._diff(t,e)},e.exports={RenderedNode:i,initialRenderFromDom:h,applyDiff:a,attributesDiff:o,diffCost:r,getDom:s,handicap:6}},{}],4:[function(t,e){"use strict";function i(t,e,n){return this.constructor!==i?new i(t,e,n):(R[t]&&C.CompileError("Component with name "+t+" already exist"),R[t]=this,this.name=t,this.template=w(e),void(this.controller=n))}function n(t){this.bits=t.split(".")}function r(t,e){return this.constructor!==r?new r(t,e):(this.data=t,this.parent=e,this.aliases={},void(this.watching={}))}function o(t,e){for(var i,n,r={};t;){if(t=C.trim(t),i=t.match(_),i||e.cerror("parseAttributes: No attribute name found in "+t),t=t.substr(i[0].length),i=i[0],"="!=t[0]&&e.cerror("parseAttributes: No equal sign after name "+i),t=t.substr(1),n=t.match(D))r[i]=new g(null,n[0]);else if(n=t.match(O.EXPRESSION_REG),null===n)e.cerror("parseAttributes: No string or expression found after name "+i);else{var o=O.jsExpression(n[1]);r[i]=o}t=t.substr(n[0].length)}return r}function s(t,e,i,n){this.line=n,this.parent=t,this.content=e,this.level=i,this.children=[]}function a(){s.call(this,null,"",0,null)}function h(t,e,i,n){s.call(this,t,e,i,n),t.children.push(this),this.renderExlcuded=!0}function l(t,e,i,n){s.call(this,t,e,i,n),this.nodeName=this.content.split(" ")[0],this.attrs=o(this.content.substr(this.nodeName.length),this),t.addChild(this)}function c(t){return t.binding?t.binding:void 0}function d(t,e){return"function"==typeof t?t(e):t.evaluate?t.evaluate(e):t}function u(t,e,i,n){s.call(this,t,e,i,n);var r,o,a;e=C.trim(e.substr(4)),r=e.match(S),r||this.cerror("first variable name is missing"),e=C.trim(e.substr(r[0].length)),","==e[0]&&(e=C.trim(e.substr(1)),o=e.match(S),o||this.cerror("second variable after comma is missing"),e=C.trim(e.substr(o[0].length))),e.match(/^in/)||this.cerror("in keyword is missing"),e=C.trim(e.substr(2)),a=e.match(O.nameReg),a||this.cerror("iterable name is missing"),this.sourceName=a[0],e=C.trim(e.substr(a[0].length)),""!==e&&this.cerror("left over unparsable content: "+e),r&&o?(this.indexName=r,this.alias=o[0]):this.alias=r[0],t.addChild(this)}function p(t,e,i,n){s.call(this,t,e,i,n),this.expression=O.jsExpression(e.replace(/^if/g,"")),t.children.push(this)}function f(t,e,i,n,r){s.call(this,t,e,i,n),this.searchIf(r)}function m(t,e,i,n,r){s.call(this,t,e,i,n),this.expression=O.jsExpression(e.replace(/^elseif/g,"")),this.searchIf(r)}function v(t,e,i,n){s.call(this,t,e,i,n),this.nodeName="#text";var r=e.match(O.EXPRESSION_REG);r||this.cerror("declared improperly"),this.expression=O.jsExpression(r[1]),t.addChild(this)}function g(t,e,i,n){s.call(this,t,e,i,n),this.nodeName="#text",this.string=this.content.replace(/^"|"$/g,"").replace(/\\"/g,'"',"gm"),this.compiledExpression=O.compileTextAndExpressions(this.string),t&&t.addChild(this)}function y(t,e,i,n){s.call(this,t,e,i,n),this.name=C.trim(e.split(" ")[1]),this.template=T[this.name],void 0===this.template&&this.cerror("Template with name "+this.name+" is not registered"),t.addChild(this)}function b(t,e,i,n){s.call(this,t,e,i,n),e=C.trim(e).substr(10);var r=e.match(S);r||this.cerror("Component name is missing"),e=C.trim(e.substr(r[0].length)),this.name=r[0],this.attrs=o(e,this),this.component=R[this.name],void 0===this.component&&this.cerror("Component with name "+this.name+" is not registered"),t.addChild(this)}function x(t,e,i,n,r){var o;if(0===e.length)o=new g(t,"\n",i,n+1);else if(0===e.indexOf("#"))o=new h(t,e,i,n+1);else if(0===e.indexOf("if "))o=new p(t,e,i,n+1);else if(0===e.indexOf("elseif "))o=new m(t,e,i,n+1,r);else if(0===e.indexOf("else"))o=new f(t,e,i,n+1,r);else if(0===e.indexOf("for "))o=new u(t,e,i,n+1);else if(0===e.indexOf("include "))o=new y(t,e,i,n+1);else if(0===e.indexOf("component "))o=new b(t,e,i,n+1);else if(0===e.indexOf('"'))o=new g(t,e,i,n+1);else if(/^\w/.exec(e))o=new l(t,e,i,n+1);else{if(0!==e.indexOf("{{"))throw new C.CompileError("createNode: unknow node type "+e);o=new v(t,e,i,n+1)}return o}function w(t,e){if(t instanceof s)return t;t instanceof Array&&(t=t.join("\n"));var i,n,r,o,h,l,c,d=new a,u=d;for(d.str=t,i=t.split("\n"),h=0;h<i.length;h++){n=i[h],r=n.match(/\s*/)[0].length+1,o=n.slice(r-1);for(var p=0;o.match(/\\$/);)p++,o=o.replace(/\\$/,"")+i[h+p];if(h+=p,p=0,o.match(/^"""/)){for(o=o.replace(/^"""/,'"');!o.match(/"""$/);){if(p++,h+p>i.length)throw new C.CompileError("Multiline string started but unfinished at line "+(h+1));o+=i[h+p]}o=o.replace(/"""$/,'"')}for(h+=p,c=u,l=null;;){if(r>c.level){l=c;break}if(!c.parent)throw new C.CompileError("Indentation error at line "+(h+1));if(r==c.level){l=c.parent;break}c=c.parent}if(l.children.length&&l.children[0].level!=r)throw new C.CompileError("Indentation error at line "+(h+1));var f=x(l,o,r,h,u);u=f}return e&&(T[e]=d),d}function N(){var t,e=document.querySelectorAll('[type="likely/component"]');for(t=0;t<e.length;t++){if(!e[t].id)throw new C.CompileError("Component is missing an id "+e[t].toString());new i(e[t].id,e[t].textContent)}}function k(){var t,e=document.querySelectorAll('[type="likely/template"]');for(t=0;t<e.length;t++){if(!e[t].id)throw new C.CompileError("Template is missing an id "+e[t].toString());new w(e[t].textContent,e[t].id)}}function E(){N(),k()}var C=t("./util"),A=t("./render"),O=t("./expression"),T={},R={},S=/^[a-zA-Z_$][0-9a-zA-Z_$]*/,_=/^[A-Za-z][\w-]{0,}/,D=/^"(\\"|[^"])*"/;n.prototype.substituteAlias=function(t){if(t.aliases.hasOwnProperty(this.start())){var e=t.aliases[this.start()].split(".");this.bits.shift(),this.bits=e.concat(this.bits)}},n.prototype.start=function(){return this.bits[0]},n.prototype.str=function(){return this.bits.join(".")},r.prototype.addAlias=function(t,e){if(t===e)throw new C.CompileError("Alias with the name "+e+" already present in this context.");this.aliases[e]=t},r.prototype.resolveName=function(t){if(t.substituteAlias(this),this.data.hasOwnProperty(t.start())){for(var e=this.data[t.start()],i=1;i<t.bits.length;){if(!e.hasOwnProperty(t.bits[i]))return void 0;e=e[t.bits[i]],i++}return[this,t.str(),e]}return this.parent?this.parent.resolveName(t):void 0},r.prototype.getNamePath=function(t){var e=this.resolveName(new n(t));return e?e[1]:void 0},r.prototype.watch=function(t,e){this.watching[t]=e},r.prototype.get=function(t){var e=this.resolveName(new n(t));return e?e[2]:void 0},r.prototype.modify=function(t,e){this._modify(new n(t),e)},r.prototype._modify=function(t,e){if(this.watching.hasOwnProperty(t.str())&&this.watching[t.str()](e),t.substituteAlias(this),this.data.hasOwnProperty(t.start())){for(var i=this.data,n=0;n<t.bits.length-1;){if(!i.hasOwnProperty(t.bits[n]))return void 0;i=i[t.bits[n]],n++}return i[t.bits[n]]=e,!0}return this.parent?this.parent._modify(t,e):void 0},r.prototype.set=function(t,e){this.data[t]=e},s.prototype.toStringLevel=function(t){var e,i="";for(e=0;t>e;e++)i+="  ";return i+String(this)},s.prototype.repr=function(t,e){var i,n="";if(void 0===t&&(t=0),void 0===e)e=[];else if(-1!=e.indexOf(this))return this.toStringLevel(t)+" <-- Infinite recursion.\r\n";for(e.push(this),n=this.toStringLevel(t)+"\r\n",i=0;i<this.children.length;i++)n+=this.children[i].repr(t+1,e);return n},s.prototype.tree=function(t,e,i){void 0===e&&(e="",i=0,this.isRoot=!0);var n=new A.RenderedNode(this,t,"",e);return n.children=this.treeChildren(t,e,i),n},s.prototype.cerror=function(t){throw new C.CompileError(this.toString()+": "+t)},s.prototype.domNode=function(){return[]},s.prototype.treeChildren=function(t,e,i){var n,r,o,s=[],a=null,h=null;for(o=i,n=0;n<this.children.length;n++)r=e,h=this.children[n],h.hasOwnProperty("nodeName")?(r+="."+o,o++,a=h.tree(t,r,0),s.push(a)):h.renderExlcuded||(a=h.tree(t,r,o),a&&(s=s.concat(a),o+=a.length));return s},s.prototype.addChild=function(t){this.children.push(t)},s.prototype.toString=function(){return this.constructor.name+"("+this.content.replace("\n","")+") at line "+this.line},C.inherits(a,s),C.inherits(h,s),C.inherits(l,s),l.prototype.tree=function(t,e,i){var n=new A.RenderedNode(this,t,this.nodeName,e);return n.attrs=this.renderAttributes(t,e),n.children=this.treeChildren(t,e,i),n},l.prototype.renderAttributes=function(t,e){var i,n,r,o,s,a={};for(o=Object.keys(this.attrs),s=0;s<o.length;s++)if(i=o[s],n=this.attrs[i],0!==i.indexOf("lk-")){var h=d(n,t);h===!1||(a[i]=h)}else a["lk-path"]=e,a[i]="lk-bind"===i?d(n,t):"true";return-1!="input,select,textarea".indexOf(this.nodeName)&&this.attrs.hasOwnProperty("value")&&(n=this.attrs.value,r=c(n),r&&void 0===this.attrs["lk-bind"]&&(a["lk-bind"]=r,a["lk-path"]=e)),"textarea"==this.nodeName&&1==this.children.length&&this.children[0].expression&&(r=c(this.children[0].expression),r&&void 0===this.attrs["lk-bind"]&&(a["lk-bind"]=r,a["lk-path"]=e,a.value=this.children[0].expression(t))),t.get("debug")===!0&&(a["lk-debug"]=String(this)),a},l.prototype.domNode=function(t,e){var i,n=document.createElement(this.nodeName),r=this.renderAttributes(t,e);for(i in r)n.setAttribute(i,r[i]);return n},C.inherits(u,s),u.prototype.tree=function(t,e,i){var n,o=[],s=t.get(this.sourceName);if(!s)return o;var a,h=Object.keys(s);for(a=0;a<h.length;a++){n=h[a];var l={};this.indexName&&(l[this.indexName]=n);var c=new r(l,t);c.addAlias(this.sourceName+"."+n,this.alias),o=o.concat(this.treeChildren(c,e,o.length+i))}return o},C.inherits(p,s),p.prototype.tree=function(t,e,i){return this.expression(t)?this.treeChildren(t,e,i):this.else?this.else.tree(t,e,i):void 0},C.inherits(f,s),f.prototype.tree=function(t,e,i){return this.treeChildren(t,e,i)},C.inherits(m,p),m.prototype.searchIf=function(t){for(;t;){if(t.level<this.level&&this.cerror("cannot find a corresponding if-like statement at the same level."),t.level==this.level){t instanceof p||this.cerror("at the same level is not a if-like statement."),t.else=this;break}t=t.parent}},f.prototype.searchIf=m.prototype.searchIf,C.inherits(v,s),v.prototype.tree=function(t,e){var i=String(d(this.expression,t)),n=new A.RenderedNode(this,t,i,e);return n},v.prototype.domNode=function(t){return document.createTextNode(d(this.expression,t))},C.inherits(g,s),g.prototype.tree=function(t,e){var i=O.evaluateExpressionList(this.compiledExpression,t),n=new A.RenderedNode(this,t,i,e);return n},g.prototype.evaluate=function(t){return O.evaluateExpressionList(this.compiledExpression,t)},g.prototype.domNode=function(t){return document.createTextNode(O.evaluateExpressionList(this.compiledExpression,t))},g.prototype.addChild=function(t){this.cerror("cannot have children "+t)},C.inherits(y,s),y.prototype.tree=function(t,e,i){return this.template.treeChildren(t,e,i)},C.inherits(b,s),b.prototype.tree=function(t,e,i){var n,o,s,a,h=new r({},t);for(n in this.attrs)o=this.attrs[n],s=d(o,t),h.set(n,s),"function"==typeof o&&(a=c(o),a&&n!=a&&h.addAlias(a,n));return this.component.controller&&this.component.controller(h),this.component.template.treeChildren(h,e,i)},b.prototype.repr=function(t,e){return e.push(this),this.toStringLevel(t)+"\r\n"+this.component.template.repr(t+1,e)},e.exports={buildTemplate:w,parseAttributes:o,Context:r,templates:T,components:R,collectComponents:N,collectTemplates:k,collect:E,ContextName:n,Component:i,Node:s}},{"./expression":1,"./render":3,"./util":5}],5:[function(t,e){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function n(t){this.name="CompileError",this.message=t||""}function r(t){this.name="RuntimeError",this.message=t||""}function o(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(t){return t.replace(/^\s+|\s+$/g,"")}function a(t,e){var i=new CustomEvent(t,{bubbles:!0,cancelable:!1,details:e});return i}n.prototype=Error.prototype,r.prototype=Error.prototype,e.exports={inherits:i,CompileError:n,RuntimeError:r,escape:o,trim:s,event:a}},{}]},{},[2])(2)});